bool ComportamientoJugador::pathFinding_CostoUniforme(const estado &origen, const estado &destino, list<Action> &plan){
	//Borro la lista
	cout << "Calculando plan\n";
	plan.clear();
	queue<nodoPonderado> cola;											// Lista de Abiertos
	set<estado,ComparaEstados> generados;      	// Lista de Cerrados
	set<nodoPonderado,nodosComparados> seleccion;
	

  nodoPonderado current;
	current.st = origen;
	current.secuencia.empty();
	current.peso = 0;

	cola.push(current);

  while (!cola.empty() and (current.st.fila!=destino.fila or current.st.columna != destino.columna)){

		cola.pop();
		generados.insert(current.st);


		// Generar descendiente de girar a la derecha
		nodoPonderado hijoTurnR = current;
		hijoTurnR.st.orientacion = (hijoTurnR.st.orientacion+1)%4;
		//calcularPeso(hijoTurnR);
		hijoTurnR.peso = current.peso+1;
		if (generados.find(hijoTurnR.st) == generados.end()){
			hijoTurnR.secuencia.push_back(actTURN_R);
			seleccion.insert(hijoTurnR);

		}

		// Generar descendiente de girar a la izquierda
		nodoPonderado hijoTurnL = current;
		hijoTurnL.st.orientacion = (hijoTurnL.st.orientacion+3)%4;
		hijoTurnL.peso = current.peso+1;
		//calcularPeso(hijoTurnL);
		if (generados.find(hijoTurnL.st) == generados.end()){
			hijoTurnL.secuencia.push_back(actTURN_L);
			seleccion.insert(hijoTurnL);
		}

		// Generar descendiente de avanzar
		nodoPonderado hijoForward = current;
		int pesito = hijoForward.peso;
		calcularPeso(hijoForward);
		hijoForward.peso + pesito;
		if (!HayObstaculoDelante(hijoForward.st)){
			if (generados.find(hijoForward.st) == generados.end()){
				hijoForward.secuencia.push_back(actFORWARD);
				seleccion.insert(hijoForward);
			}
		}

		set<nodoPonderado, nodosComparados>::iterator it;
		for(it=seleccion.begin(); it != seleccion.end(); it++)
			cola.push(*it);

			seleccion.clear();

		// Tomo el siguiente valor de la cola
		if (!cola.empty()){
			current = cola.front();
		}
	}

  cout << "Terminada la busqueda\n";

	if (current.st.fila == destino.fila and current.st.columna == destino.columna){
		cout << "Cargando el plan\n";
		plan = current.secuencia;
		cout << "Longitud del plan: " << plan.size() << endl;
		PintaPlan(plan);
		// ver el plan en el mapa
		VisualizaPlan(origen, plan);
		return true;
	}
	else {
		cout << "No encontrado plan\n";
	}


	return false;
}
